(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();class d{constructor(){this.components={"loader-container":"/components/loader.html","social-sidebar-container":"/components/social-sidebar.html","header-container":"/components/header.html","hero-container":"/components/hero.html","about-container":"/components/about.html","technologies-container":"/components/technologies.html","experience-container":"/components/experience.html","education-container":"/components/education.html","projects-container":"/components/projects.html","publications-container":"/components/publications.html","contact-container":"/components/contact.html","footer-container":"/components/footer.html"}}async loadComponents(){const t=["header-container","hero-container"];await Promise.all(t.map(async i=>{const o=document.getElementById(i);if(o)try{const r=await fetch(this.components[i]);if(!r.ok)throw new Error(`Failed to load ${this.components[i]}`);const a=await r.text();o.innerHTML=a}catch(r){console.error(`Error loading component ${this.components[i]}:`,r),o.innerHTML='<div class="error">Failed to load component</div>'}}));const s=Object.entries(this.components).filter(([i])=>!t.includes(i)).map(async([i,o])=>{const r=document.getElementById(i);if(r)try{const a=await fetch(o);if(!a.ok)throw new Error(`Failed to load ${o}`);const c=await a.text();r.innerHTML=c}catch(a){console.error(`Error loading component ${o}:`,a),r.innerHTML='<div class="error">Failed to load component</div>'}});await Promise.all(s),console.log("All components loaded")}}function h(){return new d().loadComponents()}class u{constructor(){this.loader=document.querySelector(".loader"),this.loaderText=document.querySelector(".loader-text"),this.loaderProgress=document.querySelector(".loader-progress"),this.minLoadingTime=1e3,this.startTime=Date.now(),this.init()}init(){this.loader&&(window.addEventListener("load",()=>{this.handleLoadComplete()}),setTimeout(()=>{this.loader.classList.contains("active")&&this.handleLoadComplete()},5e3),this.initProgressAnimation())}initProgressAnimation(){if(this.loaderProgress){let t=0;const e=setInterval(()=>{t<90?(t+=Math.random()*10,this.updateProgress(t)):clearInterval(e)},200)}}updateProgress(t){if(this.loaderProgress){const e=Math.min(Math.round(t),100);this.loaderProgress.style.width=`${e}%`,this.loaderText&&(this.loaderText.textContent=`Loading... ${e}%`)}}handleLoadComplete(){const t=Date.now()-this.startTime,e=Math.max(0,this.minLoadingTime-t);setTimeout(()=>{this.updateProgress(100),this.loader.classList.add("fade-out"),setTimeout(()=>{this.loader.remove(),document.body.classList.remove("loading")},500)},e)}}function m(){new u}class g{constructor(){this.header=document.querySelector("header"),this.navLinks=document.querySelectorAll(".nav-link"),this.logoLink=document.querySelector(".logo.nav-link"),this.sectionLinks=document.querySelectorAll(".section-link"),this.mobileMenuBtn=document.querySelector(".mobile-menu-btn"),this.mobileMenu=document.querySelector(".mobile-menu"),this.lastScrollY=window.scrollY,this.isMenuOpen=!1,this.currentPage=window.location.pathname.split("/").pop()||"index.html",this.isTransitioning=!1,this.init()}async navigateToPage(t,e=""){if(this.isTransitioning)return;this.isTransitioning=!0;const s=e?`${t}#${e}`:t;window.location.href=s}async navigateToSection(t){if(this.isTransitioning)return;if(this.isTransitioning=!0,this.currentPage==="blog.html"){await this.navigateToPage("index.html",t.id);return}const e=this.header.offsetHeight,s=t.offsetTop-e;window.scrollTo({top:s,behavior:"smooth"}),history.pushState(null,"",`#${t.id}`),this.isTransitioning=!1}initSectionLinks(){this.sectionLinks.forEach(t=>{t.addEventListener("click",async e=>{e.preventDefault();const s=t.getAttribute("href"),[i,o]=s.split("#");if(this.isMenuOpen&&this.closeMobileMenu(),i&&i!==this.currentPage){await this.navigateToPage(i,o);return}if(o){const r=document.querySelector(`#${o}`);r&&await this.navigateToSection(r)}})})}initLogoLink(){this.logoLink&&this.logoLink.addEventListener("click",async t=>{t.preventDefault(),this.isMenuOpen&&this.closeMobileMenu(),this.currentPage!=="index.html"?await this.navigateToPage("index.html"):(window.scrollTo({top:0,behavior:"smooth"}),history.pushState(null,"",window.location.pathname))})}initScrollHandler(){let t=window.scrollY,e=!1;window.addEventListener("scroll",()=>{e||(window.requestAnimationFrame(()=>{const s=window.scrollY,i=s-t,o=this.header.offsetHeight;s<=o||i<0?this.header.classList.remove("header-hidden"):i>0&&s>o&&this.header.classList.add("header-hidden"),t=s,e=!1}),e=!0)})}initMobileMenu(){this.mobileMenuBtn&&this.mobileMenu&&(this.mobileMenuBtn.addEventListener("click",()=>{this.toggleMobileMenu()}),document.addEventListener("click",t=>{this.isMenuOpen&&!this.mobileMenu.contains(t.target)&&!this.mobileMenuBtn.contains(t.target)&&this.closeMobileMenu()}),document.addEventListener("keydown",t=>{this.isMenuOpen&&t.key==="Escape"&&this.closeMobileMenu()}))}initNavLinks(){this.navLinks.forEach(t=>{t.addEventListener("click",async e=>{e.preventDefault();const s=t.getAttribute("href");if(this.isMenuOpen&&this.closeMobileMenu(),s==="blog.html"){await this.navigateToPage("blog.html");return}if(s.startsWith("#")){const i=document.querySelector(s);i&&await this.navigateToSection(i)}})})}toggleMobileMenu(){this.isMenuOpen?this.closeMobileMenu():this.openMobileMenu()}openMobileMenu(){this.mobileMenuBtn.classList.add("active"),this.mobileMenu.classList.add("active"),document.body.style.overflow="hidden",this.isMenuOpen=!0}closeMobileMenu(){this.mobileMenuBtn.classList.remove("active"),this.mobileMenu.classList.remove("active"),document.body.style.overflow="",this.isMenuOpen=!1}init(){if(this.initScrollHandler(),this.initMobileMenu(),this.initNavLinks(),this.initLogoLink(),this.initSectionLinks(),window.location.hash){const t=document.querySelector(window.location.hash);t&&setTimeout(()=>{const e=this.header.offsetHeight,s=t.offsetTop-e;window.scrollTo({top:s,behavior:"smooth"})},100)}}}function f(){new g}class b{constructor(){this.tabList=document.querySelector(".tab-list"),this.tabButtons=document.querySelectorAll(".tab-button"),this.tabPanels=document.querySelectorAll(".tab-panel"),this.activeTabIndex=0,this.init()}init(){this.tabList&&this.tabButtons.length&&this.tabPanels.length&&(this.setActiveTab(this.activeTabIndex),this.tabButtons.forEach((t,e)=>{t.addEventListener("click",()=>{this.setActiveTab(e)}),t.addEventListener("keydown",s=>{switch(s.key){case"ArrowLeft":s.preventDefault(),this.navigateTabs("prev");break;case"ArrowRight":s.preventDefault(),this.navigateTabs("next");break;case"Home":s.preventDefault(),this.setActiveTab(0);break;case"End":s.preventDefault(),this.setActiveTab(this.tabButtons.length-1);break}})}),window.addEventListener("resize",()=>{this.handleResize()}),this.handleResize())}setActiveTab(t){this.tabButtons.forEach(e=>e.classList.remove("active")),this.tabPanels.forEach(e=>e.classList.remove("active")),this.tabButtons[t].classList.add("active"),this.tabPanels[t].classList.add("active"),this.activeTabIndex=t,this.updateAriaAttributes(),window.innerWidth<=768&&this.tabButtons[t].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}navigateTabs(t){let e=this.activeTabIndex;t==="prev"?e=this.activeTabIndex>0?this.activeTabIndex-1:this.tabButtons.length-1:t==="next"&&(e=this.activeTabIndex<this.tabButtons.length-1?this.activeTabIndex+1:0),this.setActiveTab(e),this.tabButtons[e].focus()}updateAriaAttributes(){this.tabButtons.forEach((t,e)=>{const s=e===this.activeTabIndex,i=`tab-panel-${e+1}`,o=`tab-button-${e+1}`;t.id||(t.id=o),this.tabPanels[e].id||(this.tabPanels[e].id=i),t.setAttribute("aria-selected",s),t.setAttribute("aria-controls",i),this.tabPanels[e].setAttribute("aria-labelledby",o),this.tabPanels[e].setAttribute("aria-hidden",!s),this.tabPanels[e].setAttribute("tabindex",s?0:-1)}),this.tabList.setAttribute("role","tablist"),this.tabButtons.forEach(t=>t.setAttribute("role","tab")),this.tabPanels.forEach(t=>t.setAttribute("role","tabpanel"))}handleResize(){if(window.innerWidth<=768){const t=this.tabList.scrollWidth>this.tabList.clientWidth;this.tabList.classList.toggle("scrollable",t)}else this.tabList.classList.remove("scrollable")}}function p(){new b}class v{constructor(){this.revealElements=document.querySelectorAll(".reveal, .fade-in"),this.observer=null,this.init()}init(){"IntersectionObserver"in window?this.initIntersectionObserver():this.initScrollRevealFallback()}initIntersectionObserver(){this.observer=new IntersectionObserver((t,e)=>{t.forEach(s=>{s.isIntersecting&&(s.target.classList.add("visible"),e.unobserve(s.target))})},{threshold:.15}),this.revealElements.forEach(t=>{this.observer.observe(t)})}initScrollRevealFallback(){const t=()=>{this.revealElements.forEach(e=>{e.getBoundingClientRect().top<window.innerHeight*.85&&e.classList.add("visible")})};window.addEventListener("scroll",t),window.addEventListener("resize",t),t()}}function w(){new v}class y{constructor(){this.form=document.querySelector(".contact-form"),this.status=document.querySelector(".form-status"),this.submitButton=this.form?this.form.querySelector(".submit-button"):null,this.init()}init(){this.form&&this.form.addEventListener("submit",t=>{t.preventDefault(),this.handleSubmit()})}async handleSubmit(){if(!this.form)return;const t=this.form.querySelector('input[name="name"]'),e=this.form.querySelector('input[name="email"]'),s=this.form.querySelector('textarea[name="message"]');if(!t.value.trim()||!e.value.trim()||!s.value.trim()){this.showStatus("Please fill in all fields.","error");return}if(!this.validateEmail(e.value.trim())){this.showStatus("Please enter a valid email address.","error");return}this.submitButton&&(this.submitButton.disabled=!0),this.showStatus("Sending...","");try{await new Promise(i=>setTimeout(i,1200)),this.showStatus("Thank you! Your message has been sent.","success"),this.form.reset()}catch{this.showStatus("Sorry, there was an error. Please try again later.","error")}finally{this.submitButton&&(this.submitButton.disabled=!1)}}validateEmail(t){return/^\S+@\S+\.\S+$/.test(t)}showStatus(t,e){this.status||(this.status=document.createElement("div"),this.status.className="form-status",this.form.appendChild(this.status)),this.status.textContent=t,this.status.className="form-status",e&&this.status.classList.add(e)}}function L(){new y}const M="tapos-datta",P=`https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@${M}`;class E{constructor(){this.mediumRssUrl=P,this.postsPerPage=5,this.currentPage=1,this.allPosts=[],this.isLoading=!1,this.placeholderImage="assets/images/placeholder_blog.webp"}async fetchPosts(){try{this.isLoading=!0,console.log("Fetching Medium posts from:",this.mediumRssUrl);const t=await fetch(this.mediumRssUrl);if(console.log("Response status:",t.status),!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();if(console.log("API Response:",e),e.status==="ok"&&Array.isArray(e.items)){if(e.items.length===0)throw console.log("No posts found in the feed"),new Error("No posts found in your Medium feed. Please check if you have published any articles.");return this.allPosts=await Promise.all(e.items.map(async s=>{const i=await this.getBestImage(s),o=this.extractKeywords(s);return{title:s.title,link:s.link,date:new Date(s.pubDate),content:s.description,thumbnail:i,categories:o}})),console.log("Successfully processed posts:",this.allPosts.length),this.getPaginatedPosts()}else throw console.error("Invalid API response:",e),new Error(e.message||"Failed to fetch blog posts")}catch(t){console.error("Error fetching blog posts:",t);const e=document.getElementById("errorMessage");if(e){let s="Failed to load blog posts. ";t.message.includes("No posts found")?s="No posts found in your Medium feed. Please check if you have published any articles.":t.message.includes("HTTP error")&&(s="Unable to connect to Medium. Please check your internet connection and try again."),e.textContent=s,e.style.display="block"}throw t}finally{this.isLoading=!1}}async getBestImage(t){try{if(t.thumbnail&&await this.isValidImage(t.thumbnail))return console.log("Using thumbnail:",t.thumbnail),t.thumbnail;const e=this.extractThumbnailFromContent(t.content);if(e&&await this.isValidImage(e))return console.log("Using content image:",e),e;const s=this.extractFirstImageFromContent(t.content);return s&&await this.isValidImage(s)?(console.log("Using first image:",s),s):(console.log("Using placeholder image"),this.placeholderImage)}catch(e){return console.error("Error getting image:",e),this.placeholderImage}}async isValidImage(t){var e;try{const s=await fetch(t,{method:"HEAD"});return s.ok&&((e=s.headers.get("content-type"))==null?void 0:e.startsWith("image/"))}catch(s){return console.error("Error checking image:",s),!1}}extractThumbnailFromContent(t){try{if(!t)return null;const e=t.match(/<meta[^>]+(?:og:image|twitter:image)[^>]+content="([^">]+)"/);if(e){const i=e[1];return console.log("Found meta image:",i),i}const s=t.match(/<img[^>]+src="([^">]+)"/);if(s){const i=s[1];return console.log("Found img tag image:",i),i}return null}catch(e){return console.error("Error extracting thumbnail:",e),null}}extractFirstImageFromContent(t){try{const e=t.match(/<img[^>]+src="([^">]+)"/);return e?e[1]:null}catch(e){return console.error("Error extracting first image:",e),null}}extractKeywords(t){try{let e=t.categories||[];if(e.length===0){const s=t.content.toLowerCase();e=["javascript","react","node","web","development","programming","coding","tech","tutorial","guide"].filter(o=>s.includes(o))}return[...new Set(e)].slice(0,4)}catch(e){return console.error("Error extracting keywords:",e),["Uncategorized"]}}getPaginatedPosts(){const e=this.currentPage*this.postsPerPage;return this.allPosts.slice(0,e)}hasMorePosts(){return this.currentPage*this.postsPerPage<this.allPosts.length}loadMorePosts(){return!this.isLoading&&this.hasMorePosts()?(this.currentPage++,this.getPaginatedPosts()):[]}createBlogCard(t){const e=document.createElement("div");e.className="blog-card";const s=t.date.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.innerHTML=`
            <div class="blog-card-content">
                <div class="blog-card-image">
                    <img src="${t.thumbnail}" 
                         alt="${t.title}" 
                         loading="lazy"
                         onload="this.classList.add('loaded')"
                         onerror="this.onerror=null; this.src='${this.placeholderImage}'; this.classList.add('loaded');">
                </div>
                <div class="blog-card-text">
                    <div class="blog-meta">
                        <span class="blog-date">
                            <i class="fas fa-calendar"></i>
                            <span class="date">${s}</span>
                        </span>
                        <div class="blog-categories">
                            ${t.categories.map(i=>`
                                <span class="blog-category">${i}</span>
                            `).join("")}
                        </div>
                    </div>
                    <h3>${t.title}</h3>
                    <p class="blog-excerpt">${this.extractExcerpt(t.content)}</p>
                    <a href="${t.link}" 
                       class="read-more" 
                       target="_blank" 
                       rel="noopener noreferrer">
                        Read More <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        `,e}extractExcerpt(t){const e=t.replace(/<[^>]*>/g,"");return e.length>150?e.substring(0,150)+"...":e}}const l=new E;class T{constructor(){this.blogGrid=document.getElementById("blogGrid"),this.loadMoreBtn=document.getElementById("loadMoreBtn"),this.errorMessage=document.getElementById("errorMessage"),this.isLoading=!1,this.initialLoad=!0}async init(){try{this.initialLoad&&(this.showLoadingState(),this.initialLoad=!1);const t=await l.fetchPosts();this.blogGrid.innerHTML="",t&&t.length>0?(await this.renderPosts(t),this.loadMoreBtn.style.display=l.hasMorePosts()?"block":"none",this.loadMoreBtn.addEventListener("click",()=>this.loadMorePosts())):this.showNoPostsMessage()}catch(t){console.error("Error initializing blog:",t),this.showError("Failed to load blog posts. Please try again later.")}}showLoadingState(){const t=document.createElement("div");t.className="blog-card blog-loading",t.innerHTML=`
            <div class="blog-card-content">
                <div class="loading-spinner"></div>
                <p>Loading posts...</p>
            </div>
        `,this.blogGrid.innerHTML="",this.blogGrid.appendChild(t)}showNoPostsMessage(){this.blogGrid.innerHTML=`
            <div class="blog-card">
                <div class="blog-card-content">
                    <div class="blog-card-text" style="width: 100%; text-align: center; padding: 3rem;">
                        <h3>No Posts Found</h3>
                        <p class="blog-excerpt">There are no blog posts available at the moment. Please check back later.</p>
                    </div>
                </div>
            </div>
        `}showError(t){this.errorMessage&&(this.errorMessage.textContent=t,this.errorMessage.style.display="block"),this.showNoPostsMessage()}async loadMorePosts(){if(!this.isLoading)try{this.isLoading=!0,this.loadMoreBtn.textContent="Loading...",this.loadMoreBtn.disabled=!0;const t=l.loadMorePosts();t&&t.length>0&&(await this.renderPosts(t),this.loadMoreBtn.style.display=l.hasMorePosts()?"block":"none")}catch(t){console.error("Error loading more posts:",t),this.showError("Failed to load more posts. Please try again later.")}finally{this.isLoading=!1,this.loadMoreBtn.textContent="Load More Posts",this.loadMoreBtn.disabled=!1}}async renderPosts(t){const e=document.createDocumentFragment();for(const i of t){const o=l.createBlogCard(i);e.appendChild(o)}this.blogGrid.appendChild(e),this.blogGrid.querySelectorAll(".blog-card").forEach((i,o)=>{setTimeout(()=>{i.classList.add("loaded")},(o+1)*100)})}}function S(){new T().init()}document.addEventListener("DOMContentLoaded",async()=>{try{await h(),m(),f(),w(),p(),L(),document.getElementById("blogGrid")&&S(),document.body.classList.add("loaded")}catch(n){console.error("Error initializing application:",n);const t=document.createElement("div");t.style.cssText="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255, 0, 0, 0.1); padding: 20px; border-radius: 8px; text-align: center;",t.innerHTML=`
            <h2 style="color: #ff4444;">Error Loading Page</h2>
            <p>Please refresh the page or try again later.</p>
            <p style="font-size: 0.8em; color: #666;">${n.message}</p>
        `,document.body.appendChild(t)}});window.addEventListener("error",n=>{console.error("Global error:",n.error)});
